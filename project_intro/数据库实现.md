# èˆªæ—…æœåŠ¡å¹³å° - æ•°æ®åº“å®ç°

## ğŸ“Š æ•°æ®åº“è®¾è®¡

### 1. ç”¨æˆ·ç®¡ç†

#### ç”¨æˆ·è¡¨(sys_user)
```sql
CREATE TABLE `sys_user` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'ä¸»é”®',
  `username` varchar(50) NOT NULL COMMENT 'ç”¨æˆ·å',
  `password` varchar(100) NOT NULL COMMENT 'å¯†ç ',
  `real_name` varchar(50) DEFAULT NULL COMMENT 'çœŸå®å§“å',
  `id_card` varchar(18) DEFAULT NULL COMMENT 'èº«ä»½è¯å·',
  `phone` varchar(11) DEFAULT NULL COMMENT 'æ‰‹æœºå·',
  `email` varchar(100) DEFAULT NULL COMMENT 'é‚®ç®±',
  `avatar` varchar(255) DEFAULT NULL COMMENT 'å¤´åƒ',
  `status` tinyint(4) DEFAULT '1' COMMENT 'çŠ¶æ€ï¼š0-ç¦ç”¨ï¼Œ1-æ­£å¸¸',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
  `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_username` (`username`),
  KEY `idx_phone` (`phone`),
  KEY `idx_email` (`email`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='ç”¨æˆ·è¡¨';
```

#### è§’è‰²è¡¨(sys_role)
```sql
CREATE TABLE `sys_role` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'ä¸»é”®',
  `role_name` varchar(50) NOT NULL COMMENT 'è§’è‰²åç§°',
  `role_code` varchar(50) NOT NULL COMMENT 'è§’è‰²ç¼–ç ',
  `description` varchar(255) DEFAULT NULL COMMENT 'è§’è‰²æè¿°',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
  `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_role_code` (`role_code`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='è§’è‰²è¡¨';
```

#### ç”¨æˆ·è§’è‰²å…³è”è¡¨(sys_user_role)
```sql
CREATE TABLE `sys_user_role` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'ä¸»é”®',
  `user_id` bigint(20) NOT NULL COMMENT 'ç”¨æˆ·ID',
  `role_id` bigint(20) NOT NULL COMMENT 'è§’è‰²ID',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_user_role` (`user_id`,`role_id`),
  KEY `idx_role_id` (`role_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='ç”¨æˆ·è§’è‰²å…³è”è¡¨';
```

### 2. èˆªç­ç®¡ç†

#### èˆªç­è¡¨(flight)
```sql
CREATE TABLE `flight` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'ä¸»é”®',
  `flight_no` varchar(20) NOT NULL COMMENT 'èˆªç­å·',
  `airline` varchar(50) NOT NULL COMMENT 'èˆªç©ºå…¬å¸',
  `departure_city` varchar(50) NOT NULL COMMENT 'å‡ºå‘åŸå¸‚',
  `arrival_city` varchar(50) NOT NULL COMMENT 'åˆ°è¾¾åŸå¸‚',
  `departure_time` datetime NOT NULL COMMENT 'å‡ºå‘æ—¶é—´',
  `arrival_time` datetime NOT NULL COMMENT 'åˆ°è¾¾æ—¶é—´',
  `total_seats` int(11) NOT NULL COMMENT 'æ€»åº§ä½æ•°',
  `available_seats` int(11) NOT NULL COMMENT 'å¯ç”¨åº§ä½æ•°',
  `price` decimal(10,2) NOT NULL COMMENT 'ä»·æ ¼',
  `status` tinyint(4) DEFAULT '1' COMMENT 'çŠ¶æ€ï¼š0-å–æ¶ˆï¼Œ1-æ­£å¸¸',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
  `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_flight_no` (`flight_no`),
  KEY `idx_departure_city` (`departure_city`),
  KEY `idx_arrival_city` (`arrival_city`),
  KEY `idx_departure_time` (`departure_time`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='èˆªç­è¡¨';
```

#### è®¢å•è¡¨(order)
```sql
CREATE TABLE `order` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'ä¸»é”®',
  `order_no` varchar(32) NOT NULL COMMENT 'è®¢å•å·',
  `user_id` bigint(20) NOT NULL COMMENT 'ç”¨æˆ·ID',
  `flight_id` bigint(20) NOT NULL COMMENT 'èˆªç­ID',
  `seat_count` int(11) NOT NULL COMMENT 'åº§ä½æ•°é‡',
  `total_amount` decimal(10,2) NOT NULL COMMENT 'æ€»é‡‘é¢',
  `status` tinyint(4) DEFAULT '0' COMMENT 'çŠ¶æ€ï¼š0-å¾…æ”¯ä»˜ï¼Œ1-å·²æ”¯ä»˜ï¼Œ2-å·²å–æ¶ˆ',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
  `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_order_no` (`order_no`),
  KEY `idx_user_id` (`user_id`),
  KEY `idx_flight_id` (`flight_id`),
  KEY `idx_create_time` (`create_time`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='è®¢å•è¡¨';
```

### 3. ä½å®¿ç®¡ç†

#### é…’åº—è¡¨(hotel)
```sql
CREATE TABLE `hotel` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'ä¸»é”®',
  `hotel_name` varchar(100) NOT NULL COMMENT 'é…’åº—åç§°',
  `city` varchar(50) NOT NULL COMMENT 'æ‰€åœ¨åŸå¸‚',
  `address` varchar(255) NOT NULL COMMENT 'è¯¦ç»†åœ°å€',
  `star_level` tinyint(4) DEFAULT NULL COMMENT 'æ˜Ÿçº§',
  `description` text COMMENT 'é…’åº—æè¿°',
  `images` text COMMENT 'é…’åº—å›¾ç‰‡ï¼ŒJSONæ•°ç»„',
  `status` tinyint(4) DEFAULT '1' COMMENT 'çŠ¶æ€ï¼š0-ä¸‹æ¶ï¼Œ1-ä¸Šæ¶',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
  `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
  PRIMARY KEY (`id`),
  KEY `idx_city` (`city`),
  KEY `idx_star_level` (`star_level`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='é…’åº—è¡¨';
```

#### æˆ¿é—´è¡¨(room)
```sql
CREATE TABLE `room` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'ä¸»é”®',
  `hotel_id` bigint(20) NOT NULL COMMENT 'é…’åº—ID',
  `room_type` varchar(50) NOT NULL COMMENT 'æˆ¿é—´ç±»å‹',
  `price` decimal(10,2) NOT NULL COMMENT 'ä»·æ ¼',
  `total_count` int(11) NOT NULL COMMENT 'æ€»æ•°é‡',
  `available_count` int(11) NOT NULL COMMENT 'å¯ç”¨æ•°é‡',
  `description` text COMMENT 'æˆ¿é—´æè¿°',
  `images` text COMMENT 'æˆ¿é—´å›¾ç‰‡ï¼ŒJSONæ•°ç»„',
  `status` tinyint(4) DEFAULT '1' COMMENT 'çŠ¶æ€ï¼š0-ä¸‹æ¶ï¼Œ1-ä¸Šæ¶',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
  `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
  PRIMARY KEY (`id`),
  KEY `idx_hotel_id` (`hotel_id`),
  KEY `idx_room_type` (`room_type`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='æˆ¿é—´è¡¨';
```

## ğŸ” ç´¢å¼•è®¾è®¡

### 1. ä¸»é”®ç´¢å¼•
- æ‰€æœ‰è¡¨ä½¿ç”¨è‡ªå¢ä¸»é”®
- ä¸»é”®ç±»å‹ä¸ºbigint(20)
- ä¸»é”®åç»Ÿä¸€ä¸ºid

### 2. å”¯ä¸€ç´¢å¼•
- ç”¨æˆ·åå”¯ä¸€ç´¢å¼•
- è§’è‰²ç¼–ç å”¯ä¸€ç´¢å¼•
- èˆªç­å·å”¯ä¸€ç´¢å¼•
- è®¢å•å·å”¯ä¸€ç´¢å¼•

### 3. æ™®é€šç´¢å¼•
- æ‰‹æœºå·ç´¢å¼•
- é‚®ç®±ç´¢å¼•
- åŸå¸‚ç´¢å¼•
- æ—¶é—´ç´¢å¼•

## ğŸ”„ æ•°æ®åº“ä¼˜åŒ–

### 1. è¡¨ç»“æ„ä¼˜åŒ–
- ä½¿ç”¨åˆé€‚çš„å­—æ®µç±»å‹
- æ§åˆ¶å­—æ®µé•¿åº¦
- æ·»åŠ å¿…è¦çš„æ³¨é‡Š
- ä½¿ç”¨utf8mb4å­—ç¬¦é›†

### 2. ç´¢å¼•ä¼˜åŒ–
- éµå¾ªæœ€å·¦å‰ç¼€åŸåˆ™
- é¿å…å†—ä½™ç´¢å¼•
- æ§åˆ¶ç´¢å¼•æ•°é‡
- å®šæœŸç»´æŠ¤ç´¢å¼•

### 3. SQLä¼˜åŒ–
- ä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢
- é¿å…å…¨è¡¨æ‰«æ
- æ§åˆ¶æŸ¥è¯¢èŒƒå›´
- ä½¿ç”¨åˆé€‚çš„è¿æ¥æ–¹å¼

## ğŸ“ˆ æ•°æ®å®‰å…¨

### 1. æ•°æ®å¤‡ä»½
- å®šæ—¶å…¨é‡å¤‡ä»½
- å®æ—¶å¢é‡å¤‡ä»½
- å¤šå‰¯æœ¬å­˜å‚¨
- å¼‚åœ°å¤‡ä»½

### 2. æ•°æ®åŠ å¯†
- æ•æ„Ÿæ•°æ®åŠ å¯†
- ä¼ è¾“æ•°æ®åŠ å¯†
- å¯†ç åŠ å¯†å­˜å‚¨
- æ—¥å¿—è„±æ•

### 3. è®¿é—®æ§åˆ¶
- æœ€å°æƒé™åŸåˆ™
- è§’è‰²æƒé™æ§åˆ¶
- æ“ä½œæ—¥å¿—è®°å½•
- å¼‚å¸¸è®¿é—®ç›‘æ§

## ğŸ”§ æ•°æ®åº“ç»´æŠ¤

### 1. æ—¥å¸¸ç»´æŠ¤
- å®šæœŸæ£€æŸ¥è¡¨çŠ¶æ€
- ä¼˜åŒ–è¡¨ç»“æ„
- æ¸…ç†å†å²æ•°æ®
- æ›´æ–°ç»Ÿè®¡ä¿¡æ¯

### 2. æ€§èƒ½ç›‘æ§
- æ…¢æŸ¥è¯¢ç›‘æ§
- è¿æ¥æ•°ç›‘æ§
- èµ„æºä½¿ç”¨ç›‘æ§
- å¼‚å¸¸ç›‘æ§

### 3. æ•…éšœå¤„ç†
- ä¸»ä»åˆ‡æ¢
- æ•°æ®æ¢å¤
- æ€§èƒ½è°ƒä¼˜
- å®‰å…¨åŠ å›º 